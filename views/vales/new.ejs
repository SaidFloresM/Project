<!DOCTYPE html>
<html lang="es">
<head>
    <%- include('../partials/head', {title: 'Nuevo Vale'}) %>
    <link rel="stylesheet" href="/css/forms.css">
</head>
<body class="bg-gray-100">
    <%- include('../partials/navbar') %>

    <div class="form-container">
        <div class="flex justify-between items-center mb-6">
            <h1 class="text-2xl font-bold">Nuevo Vale</h1>
            <a href="/vales" class="text-blue-600 hover:text-blue-800">
                <i class="fas fa-arrow-left mr-2"></i>Volver
            </a>
        </div>

        <form action="/vales" method="POST" enctype="multipart/form-data">
            <!-- Información Básica -->
            <div class="form-section">
                <h2 class="form-section-title">
                    <i class="fas fa-info-circle"></i>
                    Información Básica
                </h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label" for="folio">Número de Vale</label>
                        <input type="text" id="folio" name="folio" required class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="fechaViaje">Fecha del Viaje</label>
                        <input type="date" id="fechaViaje" name="fechaViaje" required class="form-input">
                    </div>
                </div>
            </div>

            <!-- Cliente y Unidad -->
            <div class="form-section">
                <h2 class="form-section-title">
                    <i class="fas fa-building"></i>
                    Cliente y Unidad
                </h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label" for="cliente">Cliente</label>
                        <input type="text" id="cliente" name="cliente" required class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="unidad">Unidad</label>
                        <input type="text" id="unidad" name="unidad" required class="form-input">
                    </div>
                </div>
            </div>

            <!-- Ruta -->
            <div class="form-section">
                <h2 class="form-section-title">
                    <i class="fas fa-route"></i>
                    Ruta
                </h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label" for="origen">Origen</label>
                        <input type="text" id="origen" name="origen" required class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="destino">Destino</label>
                        <input type="text" id="destino" name="destino" required class="form-input">
                    </div>
                </div>
            </div>

            <!-- Custodios -->
            <div class="form-section">
                <h2 class="form-section-title">
                    <i class="fas fa-users"></i>
                    Custodios
                </h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label" for="custodio1">Custodio 1</label>
                        <input type="text" id="custodio1" name="custodio1" required 
                               class="form-input" data-autocomplete="custodio" list="custodiosList">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="custodio2">Custodio 2</label>
                        <input type="text" id="custodio2" name="custodio2" required 
                               class="form-input" data-autocomplete="custodio" list="custodiosList">
                    </div>
                </div>
                <datalist id="custodiosList"></datalist>
            </div>

            <!-- Información Financiera -->
            <div class="form-section">
                <h2 class="form-section-title">
                    <i class="fas fa-money-bill-wave"></i>
                    Información Financiera
                </h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label" for="viaticosDepositados">Viáticos Depositados</label>
                        <input type="number" step="0.01" id="viaticosDepositados" name="viaticosDepositados" 
                               required class="form-input" data-calc="viaticos">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="montoViaje">Monto del Viaje</label>
                        <input type="number" step="0.01" id="montoViaje" name="montoViaje" 
                               required class="form-input" data-calc="viaticos">
                    </div>
                </div>
            </div>

            <!-- Gastos -->
            <div class="form-section">
                <h2 class="form-section-title">
                    <i class="fas fa-receipt"></i>
                    Gastos
                </h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label" for="casetas">Casetas</label>
                        <input type="number" step="0.01" id="casetas" name="casetas" 
                               class="form-input" data-calc="gastos">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="peajes">Peajes</label>
                        <input type="number" step="0.01" id="peajes" name="peajes" 
                               class="form-input" data-calc="gastos">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="gasolinaFacturada">Gasolina Facturada</label>
                        <input type="number" step="0.01" id="gasolinaFacturada" name="gasolinaFacturada" 
                               class="form-input" data-calc="gastos">
                    </div>
                </div>
                <div class="mt-4 text-right">
                    <p class="text-lg font-semibold">
                        Total Gastos: <span data-calc-total="gastos">$0.00</span>
                    </p>
                </div>
            </div>

            <div class="form-submit">
                <button type="submit" class="btn-primary">
                    <i class="fas fa-save"></i>
                    Crear Vale
                </button>
            </div>
        </form>
    </div>

    <%- include('../partials/footer') %>
    <script src="/js/forms.js"></script>
</body>
</html>